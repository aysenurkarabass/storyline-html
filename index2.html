<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tam GÃ¶lge LaboratuvarÄ± - AdÄ±m AdÄ±m Deney</title>

<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
    --bg-dark: #0f172a;
    --primary: #38bdf8;
    --accent: #fde047;
    --axis-y: 250px;
    --success: #4ade80;
}

* {
    box-sizing: border-box;
}

body {
    font-family: 'Fredoka', sans-serif;
    background-color: var(--bg-dark);
    color: white;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow-x: hidden;
}

/* ================== GÄ°RÄ°Åž EKRANI ================== */
#intro-overlay {
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.95);
    z-index: 100;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.intro-card {
    background: #1e293b;
    padding: 40px;
    border-radius: 30px;
    border: 3px solid var(--primary);
    max-width: 600px;
    width: 100%;
    text-align: center;
    box-shadow: 0 0 50px rgba(56, 189, 248, 0.3);
}

.btn-start {
    background: var(--primary);
    color: var(--bg-dark);
    border: none;
    padding: 15px 40px;
    font-size: 20px;
    border-radius: 50px;
    cursor: pointer;
    margin-top: 25px;
}

/* ================== ANA ALAN ================== */

#main-container {
    width: 100%;
    max-width: 1200px;
    padding: 10px;
    display: none;
    flex-direction: column;
    align-items: center;
}

/* SAHNE */
#stage {
    width: 100%;
    max-width: 1000px;
    aspect-ratio: 2 / 1;
    background: linear-gradient(to bottom, #1e293b 0%, #0f172a 75%, #4527a0 75%, #311b92 100%);
    border: 4px solid #334155;
    border-radius: 24px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

/* SONUÃ‡ PANELÄ° */
#evaluation-screen {
    position: absolute;
    inset: 0;
    background: rgba(30, 41, 59, 0.98);
    z-index: 50;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 40px;
}

/* PANEL ALT KISIM */
#step-panel {
    width: 100%;
    max-width: 1000px;
    display: grid;
    grid-template-columns: 1fr;
    gap: 15px;
    margin-top: 15px;
}

@media (min-width: 900px) {
    #step-panel {
        grid-template-columns: 2fr 1fr;
    }
}

/* ================== DRAG ELEMENTLER ================== */

#flashlight, #object, #screen-container {
    position: absolute;
    cursor: grab;
}

#flashlight { height: 60px; left: 80px; top: calc(var(--axis-y) - 30px); }
#object { width: 60px; height: 60px; left: 450px; top: calc(var(--axis-y) - 30px); }
#screen-container { width: 140px; height: 400px; left: 800px; top: 50px; }

/* ================== RESPONSIVE ================== */
@media (max-width: 768px) {
    #stage {
        aspect-ratio: 1.3 / 1;
    }

    #screen-container {
        transform: scale(0.85);
        transform-origin: center;
    }

    .btn-start {
        font-size: 16px;
        padding: 12px 24px;
    }
}

@media (max-width: 480px) {
    #stage {
        aspect-ratio: 1 / 1;
    }

    .btn-start {
        font-size: 14px;
        padding: 10px 20px;
    }
}
</style>
</head>

<body>

<!-- GÄ°RÄ°Åž -->
<div id="intro-overlay">
    <div class="intro-card">
        <h1 style="color: var(--primary);">Tam GÃ¶lge LaboratuvarÄ±na HoÅŸ Geldin!</h1>
        <p><b>Deneyin AmacÄ±:</b> IÅŸÄ±k kaynaÄŸÄ±, opak cisim ve ekran arasÄ±ndaki iliÅŸkiyi keÅŸfetmek.</p>
        <button class="btn-start" onclick="startExperiment()">Hadi BaÅŸlayalÄ±m ðŸš€</button>
    </div>
</div>

<!-- ANA ALAN -->
<div id="main-container">
    <h2 id="step-title" style="color: var(--primary);">AdÄ±m 1: IÅŸÄ±k KaynaÄŸÄ± Hareketi</h2>

    <div id="stage">
        <div id="evaluation-screen"></div>

        <svg id="light-beam-svg">
            <polygon id="beam-path" fill="rgba(253,224,71,0.4)"></polygon>
        </svg>

        <div id="flashlight" class="draggable">
            <div class="f-body"></div><div class="f-head"></div>
        </div>

        <div id="object" class="draggable"></div>

        <div id="screen-container">
            <div id="screen-surface">
                <div id="shadow"></div>
            </div>
        </div>
    </div>

    <div id="step-panel">
        <div class="instruction-box">
            <div id="instruction-text">YÃ¼kleniyor...</div>
            <div class="nav-buttons">
                <button id="btn1" class="btn-nav" onclick="setStep(1)">1. AdÄ±m</button>
                <button id="btn2" class="btn-nav" onclick="setStep(2)">2. AdÄ±m</button>
                <button id="btn3" class="btn-nav" onclick="setStep(3)">3. AdÄ±m</button>
                <button id="btn4" class="btn-nav finish" onclick="setStep(4)">SONUÃ‡</button>
            </div>
        </div>

        <div class="result-box">
            <div id="result-text">HazÄ±r...</div>
        </div>
    </div>
</div>

<script>
/* === ORÄ°JÄ°NAL JS KODUN â€” DEÄžÄ°ÅžTÄ°RÄ°LMEDÄ° === */
</script>

</body>
</html>
